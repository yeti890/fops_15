# Домашнее задание к занятию «Docker. Часть 1»


### Оформление домашнего задания

1. Домашнее задание выполните в [Google Docs](https://docs.google.com/) и отправьте на проверку ссылку на ваш документ в личном кабинете.  
1. В названии файла укажите номер лекции и фамилию студента. Пример названия: 6.3. Docker. Часть 1 — Александр Александров.
1. Перед отправкой проверьте, что доступ для просмотра открыт всем, у кого есть ссылка. Если нужно прикрепить дополнительные ссылки, добавьте их в свой Google Docs.

Любые вопросы по решению задач задавайте в чате учебной группы.

---
## Важно

Перед отправкой работы на проверку удаляйте неиспользуемые ресурсы. Это нужно, чтобы предупредить неконтролируемый расход средств, полученных после использования промокода.

Рекомендации [по ссылке](https://github.com/netology-code/sdvps-homeworks/tree/main/recommend).

---

### Задание 1

**Ответьте на вопрос в свободной форме.** 

Чем контейнеризация отличается от виртуализации?

### Ответ

При виртуализации создается полностью отдельная операционная система. При контейнеризации используется ядро операционной системы той машины, на которой открывается контейнер. Исходя из этого контейнеризация имеет следующие отличия:
 - Эффективность ресурсов: Контейнеры используют общие компоненты операционной системы, что делает их более легкими и эффективными с точки зрения использования ресурсов по сравнению с виртуальными машинами.

 - Меньшая изоляция контейнеров в сравнении с виртуальными машинами из-за совместного использования ядра хостовой операционной системы.

 - Зависмость от платформы и архитектуры ОС в отличии от ВМ на которую может быть установлена любая ОС.

 - Размер и скорость работы. Размер виртуальной машины может составлять несколько гигабайт. Также для загрузки операционной системы и запуска приложений, которые в них размещены, требуется много времени. Контейнеры более лёгкие — их размер измеряется в мегабайтах. По сравнению с виртуальными машинами, контейнеры могут запускаться намного быстрее. 

 - Ограниченный жизненный цикл. Постоянное хранение контейнеров возможно, однако для этого нужно использовать специальные инструменты (например, Data Volumes от Docker). В остальном же учитывайте, что с уничтожением контейнера пропадает и вся информация, которая связана с ним. Поэтому нужно заранее предусмотреть, куда будут копироваться данные.

---

### Задание 2 

**Выполните действия:**

1. Установите Docker.
1. Приложите скриншот.

### Решение - установка Docker в AlmaLinux 9

Удалим старые версии Docker
```
sudo dnf remove docker \
                  docker-client \
                  docker-client-latest \
                  docker-common \
                  docker-latest \
                  docker-latest-logrotate \
                  docker-logrotate \
                  docker-engine \
                  docker-selinux
```
RedHat продвигает Podman который может конфликтовать с Docker - удалим его:
```
sudo dnf remove podman buildah
```
Обновим пакеты и подключим репозитории:
```
sudo dnf install epel-release -y
sudo dnf config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo
sudo dnf --refresh update
```
Установим Docker:
```
sudo dnf install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin
```
Запустим его:
```
sudo systemctl enable --now docker
```
Добавим нашего пользователя чтобы его запускать: 
```
sudo usermod -aG docker $USER
newgrp docker
id $USER
```
Проверим его:
```
docker version
docker info
```
Перезагрузимся:
```
sudo reboot
```
![screenshot](/10.%20Virtualization/screenshots/docker-info.png)

---

### Задание 3

**Выполните действия:**

1. Запустите образ hello-world.
1. Приложите скриншот.

### Решение:

![screenshot](/10.%20Virtualization/screenshots/docker-run.png)
---

### Задание 4 

**Выполните действия:**

1. Удалите образ hello-world.
1. Приложите скриншот.

### Решение:

![screenshot](/10.%20Virtualization/screenshots/docker-rmi.png)

---

## Дополнительные задания* (со звёздочкой)

Их выполнение необязательное и не влияет на получение зачёта по домашнему заданию. Можете их решить, если хотите лучше разобраться в материале.

---

### Задание 5*

1. Найдите в Docker Hub образ apache и установите его.
1. Приложите:
 * скриншоты сетевых настроек вашей виртуальной машины;
 * скриншоты работающих контейнеров;
 * скриншот браузера, где вы открыли дефолтную страницу вашего apache внутри контейнера.

### Решение:

![screenshot](/10.%20Virtualization/screenshots/docker-run-httpd.png)

![screenshot](/10.%20Virtualization/screenshots/docker-httpd-show.png)

---

### Задание 6*

1. Создайте свой Docker образ с Apache2 и подмените стандартную страницу index.html на страницу, содержащую ваши ФИО.
1. Приложите:
 * скриншот содержимого Dockerfile;
 * скриншот браузера, где apache2 из вашего контейнера выводит ваши ФИО.

 ### Решение: ссылка на мой [Dockerfile](/10.%20Virtualization/10.3%20Docker/Dockerfile) и [Index.html](/10.%20Virtualization/10.3%20Docker/index.html)

 ![screenshot](/10.%20Virtualization/screenshots/docker-build.png)

 ![screenshot](/10.%20Virtualization/screenshots/docker-httpd-index.png)