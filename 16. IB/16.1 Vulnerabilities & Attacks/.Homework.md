# Домашнее задание к занятию «Уязвимости и атаки на информационные системы»

### Задание 1

Скачайте и установите виртуальную машину Metasploitable: https://sourceforge.net/projects/metasploitable/.

Это типовая ОС для экспериментов в области информационной безопасности, с которой следует начать при анализе уязвимостей.

Просканируйте эту виртуальную машину, используя **nmap**.

Попробуйте найти уязвимости, которым подвержена эта виртуальная машина.

Сами уязвимости можно поискать на сайте https://www.exploit-db.com/.

Для этого нужно в поиске ввести название сетевой службы, обнаруженной на атакуемой машине, и выбрать подходящие по версии уязвимости.

Ответьте на следующие вопросы:

- Какие сетевые службы в ней разрешены?
- Какие уязвимости были вами обнаружены? (список со ссылками: достаточно трёх уязвимостей)
  
*Приведите ответ в свободной форме.*  

### Ответ:

Список разрешенных сетевых служб находится [ТУТ](/fops_15/16.%20IB/16.1%20Vulnerabilities%20&%20Attacks/nmap.result)

По данным сайта exploit-db.com возможны следующие уязвимости:

[vsftpd 2.3.4 - Backdoor Command Execution (Metasploit)](https://www.exploit-db.com/exploits/17491)

[Xorg X11 Server - Local Privilege Escalation (Metasploit)](https://www.exploit-db.com/exploits/47701)

[LabF nfsAxe 3.7 FTP Client - Stack Buffer Overflow (Metasploit)](https://www.exploit-db.com/exploits/43518)

---
### Задание 2

Проведите сканирование Metasploitable в режимах SYN, FIN, Xmas, UDP.

Запишите сеансы сканирования в Wireshark.

Ответьте на следующие вопросы:

- Чем отличаются эти режимы сканирования с точки зрения сетевого трафика?
- Как отвечает сервер?

*Приведите ответ в свободной форме.*

### Ответ:

### SYN-сканирование (nmap -sS):
Nmap отправляет SYN-пакет на целевой порт.
Если порт открыт, сервер отвечает SYN/ACK после получения ответа SYN/ACK, от сервера, Nmap отправляет RST, чтобы разорвать соединение до его полного установления. Если порт закрыт, сервер отвечает RST (Reset).

Менее заметно для системы, так как соединение не устанавливается полностью. Быстрое и эффективное.

<p align="center">
  <img src="../screenshots/nmap%20SYN.png" alt="nmapsyn" width="600">
  <br>
  <img src="../screenshots/wireshark%20SYN.png" alt="wiresharksyn">
</p>

### FIN-сканирование (nmap -sF)
Nmap отправляет FIN-пакет на целевой порт. Если порт закрыт, сервер отвечает RST.
Если порт открыт, большинство систем просто игнорируют FIN-пакет, и ответа не поступает.

Полезно для обхода некоторых старых или неправильно настроенных брандмауэров и фильтров.

<p align="center">
  <img src="../screenshots/nmap%20FIN.png" alt="nmapfin" width="600">
  <br>
  <img src="../screenshots/wireshark%20FIN.png" alt="wiresharkfin">
</p>

### Xmas-сканирование (nmap -sX)
Nmap отправляет пакет с флагами FIN, URG и PSH. Если порт закрыт, сервер отвечает RST.
Если порт открыт, большинство систем просто игнорируют такой пакет, и ответа не поступает.

Может выявить порты, которые не видны при других методах сканирования, особенно на неправильно настроенных системах.

<p align="center">
  <img src="../screenshots/nmap%20XMAS.png" alt="nmapxmas" width="600">
  <br>
  <img src="../screenshots/wireshark%20XMAS.png" alt="wiresharkxmas">
</p>

### UDP-сканирование (nmap -sU)
Nmap отправляет пустой или минимально заполненный UDP-пакет на целевой порт. Если порт открыт, сервер может не ответить или ответить специфичным UDP-ответом (например, DNS-ответом на DNS-запрос). Если порт закрыт, сервер отвечает ICMP пакетом "порт недоступен" (порт/адрес недоступен).

Сканирование может быть медленным из-за отсутствия ответов и необходимости ждать таймаутов.
UDP пакеты часто фильтруются брандмауэрами, что может приводить к ложным отрицательным результатам.

<p align="center">
  <img src="../screenshots/wireshark%20UDP.png" alt="wiresharkudp">
</p>