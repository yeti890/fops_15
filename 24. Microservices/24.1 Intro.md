# Домашнее задание к занятию «Введение в микросервисы»

## Задача

Руководство крупного интернет-магазина, у которого постоянно растёт пользовательская база и количество заказов, рассматривает возможность переделки своей внутренней   ИТ-системы на основе микросервисов. 

Вас пригласили в качестве консультанта для оценки целесообразности перехода на микросервисную архитектуру. 

Опишите, какие выгоды может получить компания от перехода на микросервисную архитектуру и какие проблемы нужно решить в первую очередь.

## Ответ:
### Преимущества микросервисной архитектуры:
1. Гибкость и масштабируемость
- Разделение монолита на отдельные сервисы позволяет каждому из них масштабироваться независимо.
- Автоматизированное управление нагрузкой с помощью мониторинга и инфраструктуры как кода (IaC).
- Оптимизация затрат при использовании облачных решений: создание дополнительных ресурсов при пиковых нагрузках и их удаление при снижении спроса.

2. Быстрота разработки и обновлений
- Независимое развитие и развертывание отдельных сервисов без ожидания готовности других компонентов.
- Возможность использования разных технологий для каждого сервиса (язык программирования, база данных и т. д.).
- Упрощённое тестирование и исправление ошибок, ускорение цикла разработки.

3. Повышенная отказоустойчивость
- Отказ одного микросервиса не влияет на работу всей системы, как это могло бы быть в монолите.
- При сбое отдельного сервиса его можно перезапустить или масштабировать без остановки остальных компонентов.
- Возможность географического распределения сервисов для повышения устойчивости.

4. Организационная эффективность
- Разделение системы на микросервисы позволяет распределить ответственность между командами.
- Улучшенная управляемость: каждая команда отвечает за свой сервис, что упрощает координацию и поддержку.
- Отражение бизнес-логики в архитектуре: структура сервисов может соответствовать организационной структуре компании.

### Возможные проблемы:
1. Длительный процесс миграции – требуется значительное время на разбиение монолита и адаптацию инфраструктуры.
2. Высокая сложность управления – требует внедрения инструментов оркестрации, балансировки нагрузки, мониторинга и логирования.
3. Рост затрат – повышенные расходы на администрирование, оборудование и обучение персонала.
4. Дополнительные требования к документации – необходима чёткая и актуальная документация для взаимодействия между сервисами.
5. Проблемы версионирования – разные версии микросервисов могут привести к несовместимости и сложностям в эксплуатации.

### Задачи, которые нужно решить в первую очередь:
1. Разработка архитектуры и границ сервисов - Разделение системы на логически обособленные микросервисы: аутентификация, каталог товаров, корзина, заказы, платежи и т.д.
2. Организация взаимодействия между сервисами - Выбор способов коммуникации: REST, gRPC, GraphQL, очереди сообщений (Kafka, RabbitMQ).
3. Мониторинг и логирование - Настройка централизованного логирования (ELK, Prometheus + Grafana) и распределённого трейсинга (Jaeger, OpenTelemetry).
4. Безопасность данных и авторизация - Реализация аутентификации, защита API от DDoS-атак, контроль прав доступа.
5. Управление конфигурацией и сервисами - Использование сервис-меша для балансировки нагрузки и маршрутизации трафика.
6. Развертывание и CI/CD - Автоматизация тестирования и доставки новых версий сервисов через Kubernetes, GitLab CI/CD.